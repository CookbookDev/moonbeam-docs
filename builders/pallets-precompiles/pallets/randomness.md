---
title: Randomness Pallet
description: Learn about the available extrinsics, storage methods, and constants in the randomness pallet on Moonbeam to retrieve data on randomness requests and results.
keywords: randomness, VRF, substrate, pallet, moonbeam, polkadot
---

# The Randomness Pallet

![Randomness Moonbeam Banner](/images/builders/pallets-precompiles/pallets/randomness-banner.png)

## Introduction {: #introduction }

Moonbeam utilizes verifiable random functions (VRF) to generate randomness that can be verified on-chain. A VRF is a cryptographic function that takes some input and produces random values, along with a proof of authenticity that these random values were generated by the submitter. The proof can be verified by anyone to ensure the random values generated were calculated correctly. 

There are two sources of randomness available on Moonbeam: [local VRF](#local-vrf) and [BABE epoch randomness](#babe-epoch-randomness). Local VRF is determined directly within Moonbeam using the collator of the block's VRF key and the last block's VRF output. On the other hand, [BABE](https://wiki.polkadot.network/docs/learn-consensus#block-production-babe){target=_blank} epoch randomness is based on all the VRF produced by the relay chain validators during a complete [epoch](https://wiki.polkadot.network/docs/glossary#epoch){target=_blank}.

The randomness pallet enables you to check on randomness requests that have not been fulfilled or purged, randomness results, and more. To actually request and fulfill randomness, you can use the randomness precompile. The precompile is a Solidity interface that enables you to request randomness, check on the status of requests, fulfill requests, and more through the Ethereum API. Please refer to the [Randomness Precompile](/builders/pallets-precompiles/precompiles/randomness){target=_blank} guide for more information.

This guide will provide an overview of the extrinsics, storage methods, and getters for the pallet constants available in the randomness pallet.

## Randomness Pallet Interface {: #parachain-staking-pallet-interface }

### Extrinsics {: #extrinsics }

The randomness pallet provides the following extrinsic (function):

- **setBabeRandomnessResults**() - updates the randomness results with the most recent randomness output from the relay chain state proof. This is called internally at the beginning of each relay chain epoch change

### Storage Methods {: #storage-methods }

The randomness pallet includes the following read-only storage methods to obtain chain state data:

- **inherentIncluded**() - ensures the mandatory inherent was included in the block
- **localVrfOutput**() - returns the current local per-block VRF randomness
- **notFirstBlock**() - returns whether a block is the first block (genesis or runtime upgrade)
- **palletVersion**() - returns the current pallet version
- **randomnessResults**(PalletRandomnessRequestType) - snapshot of randomness to fulfill all requests that are for the same raw randomness
- **relayEpoch**() - returns the relay epoch
- **requestCount**() - returns the number of randomness requests made so far, and is used to generate the next request's uid
- **requests**(u64) - returns a given randomness request or all of the randomness requests or that have not been fulfilled or purged yet

### Pallet Constants {: #constants }

The randomness pallet includes the following read-only functions to obtain pallet constants:

- **blockExpirationDelay**() - the number of blocks that must pass before a local VRF request expires and can be purged
- **deposit**() - the amount that should be taken as a security deposit when requesting random words. There is one deposit per request
- **epochExpirationDelay**() - the number of epochs that must pass before a BABE request expires and can be purged
- **maxBlockDelay**() - the minimum number of blocks (after the block in which the request was made) that must pass before a local VRF request can be fulfilled
- **maxRandomWords**() - the maximum number of random words that can be requested
- **minBlockDelay**() - the minimum number of blocks (after the block in which the request was made) that must pass before a local VRF request can be fulfilled
